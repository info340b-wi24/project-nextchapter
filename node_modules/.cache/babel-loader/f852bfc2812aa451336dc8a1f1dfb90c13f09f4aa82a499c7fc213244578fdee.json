{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{ref,onValue,getDatabase}from'firebase/database';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BookDetail(){const{bookTitle}=useParams();const[book,setBook]=useState(null);const decodedBookTitle=decodeURIComponent(bookTitle);useEffect(()=>{const db=getDatabase();const booksRef=ref(db,'UserData');onValue(booksRef,snapshot=>{const data=snapshot.val();if(data){const foundBook=Object.values(data).find(b=>b.BookTitle.toLowerCase().trim()===decodedBookTitle.toLowerCase().trim());if(foundBook){setBook(foundBook);}else{setBook(null);}}else{setBook(null);}});},[decodedBookTitle]);const decision=book&&book.Decision?book.Decision.toLowerCase():'';const genre=book?book.Genre?book.Genre.toLowerCase():'':'';const handleCopyEmail=()=>{navigator.clipboard.writeText(book.Email);};return/*#__PURE__*/_jsx(\"div\",{children:book&&/*#__PURE__*/_jsxs(\"div\",{className:\"carddetail\",children:[/*#__PURE__*/_jsx(\"img\",{src:book.Photo,alt:\"Cover of \".concat(book.BookTitle)}),/*#__PURE__*/_jsx(\"h2\",{children:book.BookTitle}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Author: \",book.Author]}),book.Decision&&/*#__PURE__*/_jsx(\"div\",{className:\"decision-tag \".concat(decision),children:book.Decision}),/*#__PURE__*/_jsx(\"div\",{className:\"genre-box type-button-\".concat(genre),children:book.Genre}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Book Condition: \",book.Condition]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Book Type: \",book.CoverType]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Book Length: \",book.Length]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",book.Comment]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopyEmail,className:\"copy-email-btn\",children:\"Copy Owner Email\"})]})});}export default BookDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","ref","onValue","getDatabase","jsx","_jsx","jsxs","_jsxs","BookDetail","bookTitle","book","setBook","decodedBookTitle","decodeURIComponent","db","booksRef","snapshot","data","val","foundBook","Object","values","find","b","BookTitle","toLowerCase","trim","decision","Decision","genre","Genre","handleCopyEmail","navigator","clipboard","writeText","Email","children","className","src","Photo","alt","concat","Author","Condition","CoverType","Length","Comment","onClick"],"sources":["C:/repo/info340-repos/project-nextchapter/my-app/src/components/Bookdetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { ref, onValue, getDatabase } from 'firebase/database';\r\n\r\nfunction BookDetail() {\r\n  const { bookTitle } = useParams();\r\n  const [book, setBook] = useState(null);\r\n  const decodedBookTitle = decodeURIComponent(bookTitle);\r\n\r\n  useEffect(() => {\r\n    const db = getDatabase();\r\n    const booksRef = ref(db, 'UserData');\r\n    \r\n    onValue(booksRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const foundBook = Object.values(data).find((b) => b.BookTitle.toLowerCase().trim() === decodedBookTitle.toLowerCase().trim());\r\n        if (foundBook) {\r\n          setBook(foundBook);\r\n        } else {\r\n          setBook(null);\r\n        }\r\n      } else {\r\n        setBook(null);\r\n      }\r\n    });\r\n\r\n  }, [decodedBookTitle]); \r\n\r\n  const decision = book && book.Decision ? book.Decision.toLowerCase() : '';\r\n\r\n  const genre = book ? (book.Genre ? book.Genre.toLowerCase() : '') : '';\r\n\r\n  const handleCopyEmail = () => {\r\n    navigator.clipboard.writeText(book.Email);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {book && (\r\n        <div className=\"carddetail\">\r\n          <img src={book.Photo} alt={`Cover of ${book.BookTitle}`} />\r\n          <h2>{book.BookTitle}</h2>\r\n          <p>Author: {book.Author}</p>\r\n          {book.Decision && (\r\n            <div className={`decision-tag ${decision}`}>\r\n              {book.Decision}\r\n            </div>\r\n          )}\r\n          <div className={`genre-box type-button-${genre}`}>\r\n            {book.Genre}\r\n          </div>\r\n          <p>Book Condition: {book.Condition}</p>\r\n          <p>Book Type: {book.CoverType}</p>\r\n          <p>Book Length: {book.Length}</p>\r\n          <p>Description: {book.Comment}</p>\r\n          <button onClick={handleCopyEmail} className=\"copy-email-btn\">Copy Owner Email</button>\r\n\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookDetail;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}