{"ast":null,"code":"var _jsxFileName = \"C:\\\\repo\\\\info340-repos\\\\project-nextchapter\\\\src\\\\components\\\\QuizResults.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { ref, get, getDatabase } from 'firebase/database';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction QuizResults() {\n  _s();\n  const location = useLocation();\n  const [books, setBooks] = useState([]);\n  const {\n    selectedGenre,\n    selectedCondition,\n    selectedType\n  } = location.state || {};\n  useEffect(() => {\n    const fetchBooks = async () => {\n      try {\n        const db = getDatabase();\n        const booksRef = ref(db, 'UserData');\n        const snapshot = await get(booksRef);\n        const data = snapshot.val();\n        console.log(\"Data from database:\", data);\n        console.log(\"Filtering with criteria:\", selectedGenre, selectedCondition, selectedType);\n        if (data) {\n          const filteredBooks = Object.values(data).filter(book => {\n            const isGenreMatch = book.Genre.toLowerCase() === selectedGenre.toLowerCase();\n            const isConditionMatch = book.Condition.toLowerCase() === selectedCondition.toLowerCase();\n            const isCoverTypeMatch = book.CoverType.toLowerCase() === selectedType.toLowerCase();\n\n            // Debug output for each book\n            console.log(`Checking book: ${book.BookTitle}`);\n            console.log(`Genre match: ${isGenreMatch}, Condition match: ${isConditionMatch}, CoverType match: ${isCoverTypeMatch}`);\n            return isGenreMatch && isConditionMatch && isCoverTypeMatch;\n          });\n          console.log(\"Filtered books:\", filteredBooks);\n          setBooks(filteredBooks);\n        } else {\n          setBooks([]);\n        }\n      } catch (error) {\n        console.error(error);\n        setBooks([]);\n      }\n    };\n    fetchBooks();\n  }, [selectedGenre, selectedCondition, selectedType]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recommendations-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Our Recommendations for You\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), books.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No matching books found, please fill out the quiz again!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"listed-recommendations\",\n      children: books.map((book, index) => /*#__PURE__*/_jsxDEV(Link, {\n        to: `/books/${encodeURIComponent(book.BookTitle)}`,\n        style: {\n          textDecoration: 'none',\n          color: 'inherit'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"resultscard\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recommend\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: book.Photo,\n              alt: `Cover of ${book.BookTitle}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"book-title\",\n              children: book.BookTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(QuizResults, \"JR7Bw+yskznu1p7SF7U0+dALZ0E=\", false, function () {\n  return [useLocation];\n});\n_c = QuizResults;\nexport default QuizResults;\nvar _c;\n$RefreshReg$(_c, \"QuizResults\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","ref","get","getDatabase","Link","jsxDEV","_jsxDEV","QuizResults","_s","location","books","setBooks","selectedGenre","selectedCondition","selectedType","state","fetchBooks","db","booksRef","snapshot","data","val","console","log","filteredBooks","Object","values","filter","book","isGenreMatch","Genre","toLowerCase","isConditionMatch","Condition","isCoverTypeMatch","CoverType","BookTitle","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","index","to","encodeURIComponent","style","textDecoration","color","src","Photo","alt","_c","$RefreshReg$"],"sources":["C:/repo/info340-repos/project-nextchapter/src/components/QuizResults.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { ref, get, getDatabase } from 'firebase/database';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nfunction QuizResults() {\r\n  const location = useLocation();\r\n  const [books, setBooks] = useState([]);\r\n  const { selectedGenre, selectedCondition, selectedType } = location.state || {};\r\n\r\n  useEffect(() => {\r\n    const fetchBooks = async () => {\r\n      try {\r\n        const db = getDatabase();\r\n        const booksRef = ref(db, 'UserData');\r\n\r\n        const snapshot = await get(booksRef);\r\n        const data = snapshot.val();\r\n\r\n        console.log(\"Data from database:\", data);\r\n        console.log(\"Filtering with criteria:\", selectedGenre, selectedCondition, selectedType);\r\n\r\n        if (data) {\r\n          const filteredBooks = Object.values(data).filter(book => {\r\n            const isGenreMatch = book.Genre.toLowerCase() === selectedGenre.toLowerCase();\r\n            const isConditionMatch = book.Condition.toLowerCase() === selectedCondition.toLowerCase();\r\n            const isCoverTypeMatch = book.CoverType.toLowerCase() === selectedType.toLowerCase();\r\n\r\n            // Debug output for each book\r\n            console.log(`Checking book: ${book.BookTitle}`);\r\n            console.log(`Genre match: ${isGenreMatch}, Condition match: ${isConditionMatch}, CoverType match: ${isCoverTypeMatch}`);\r\n\r\n            return isGenreMatch && isConditionMatch && isCoverTypeMatch;\r\n          });\r\n\r\n          console.log(\"Filtered books:\", filteredBooks);\r\n          setBooks(filteredBooks);\r\n        } else {\r\n          setBooks([]);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n        setBooks([]);\r\n      }\r\n    };\r\n\r\n    fetchBooks();\r\n  }, [selectedGenre, selectedCondition, selectedType]);\r\n\r\n  return (\r\n    <div className=\"recommendations-container\">\r\n      <h3>Our Recommendations for You</h3>\r\n      {books.length === 0 ? (\r\n        <p>No matching books found, please fill out the quiz again!</p>\r\n        ) : (\r\n          <div className=\"listed-recommendations\">\r\n            {books.map((book, index) => (\r\n              <Link to={`/books/${encodeURIComponent(book.BookTitle)}`} key={index} style={{ textDecoration: 'none', color: 'inherit' }}>\r\n                <div className=\"resultscard\">\r\n                  <div className=\"recommend\">\r\n                    <img src={book.Photo} alt={`Cover of ${book.BookTitle}`} />\r\n                    <h6 className=\"book-title\">{book.BookTitle}</h6>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n            }\r\nexport default QuizResults;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}