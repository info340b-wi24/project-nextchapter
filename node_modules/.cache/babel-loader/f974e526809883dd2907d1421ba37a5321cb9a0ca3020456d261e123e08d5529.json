{"ast":null,"code":"var _jsxFileName = \"C:\\\\repo\\\\info340-repos\\\\project-nextchapter\\\\my-app\\\\src\\\\components\\\\QuizResults.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { ref, onValue, getDatabase } from 'firebase/database';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction QuizResults({\n  selectedGenre,\n  selectedCondition,\n  selectedType\n}) {\n  _s();\n  const location = useLocation();\n  const [books, setBooks] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      const db = getDatabase();\n      const booksRef = ref(db, 'UserData');\n      onValue(booksRef, snapshot => {\n        const data = snapshot.val();\n        if (data) {\n          const filteredBooks = Object.values(data).filter(book => book.Genre === selectedGenre && book.Condition === selectedCondition && book.CoverType === selectedType);\n          setBooks(filteredBooks);\n        } else {\n          setBooks([]);\n        }\n      }, error => {\n        console.error(error);\n        setBooks([]);\n      });\n    };\n    fetchData();\n  }, [selectedGenre, selectedCondition, selectedType]);\n  const isQuizResultsPage = location.pathname === '/quizresults';\n  if (!isQuizResultsPage) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Our Recommendations for you\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), books.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No matching books found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"books-listed\",\n      children: books.map((book, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: book.Photo,\n            alt: `Cover of ${book.BookTitle}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: book.BookTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Author: \", book.Author]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Condition: \", book.Condition]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Cover Type: \", book.CoverType]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Genre: \", book.Genre]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Length: \", book.Length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Contact Owner: \", book.Name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(QuizResults, \"JR7Bw+yskznu1p7SF7U0+dALZ0E=\", false, function () {\n  return [useLocation];\n});\n_c = QuizResults;\nexport default QuizResults;\nvar _c;\n$RefreshReg$(_c, \"QuizResults\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","ref","onValue","getDatabase","jsxDEV","_jsxDEV","QuizResults","selectedGenre","selectedCondition","selectedType","_s","location","books","setBooks","fetchData","db","booksRef","snapshot","data","val","filteredBooks","Object","values","filter","book","Genre","Condition","CoverType","error","console","isQuizResultsPage","pathname","children","fileName","_jsxFileName","lineNumber","columnNumber","length","className","map","index","src","Photo","alt","BookTitle","Author","Length","Name","_c","$RefreshReg$"],"sources":["C:/repo/info340-repos/project-nextchapter/my-app/src/components/QuizResults.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { ref, onValue, getDatabase } from 'firebase/database';\r\n\r\nfunction QuizResults({ selectedGenre, selectedCondition, selectedType }) {\r\n  const location = useLocation();\r\n  const [books, setBooks] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const db = getDatabase();\r\n      const booksRef = ref(db, 'UserData'); \r\n\r\n      onValue(booksRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (data) {\r\n          const filteredBooks = Object.values(data).filter(book => (\r\n            book.Genre === selectedGenre &&\r\n            book.Condition === selectedCondition &&\r\n            book.CoverType === selectedType\r\n          ));\r\n          setBooks(filteredBooks);\r\n        } else {\r\n          setBooks([]);\r\n        }\r\n      }, (error) => {\r\n        console.error(error);\r\n        setBooks([]);\r\n      });\r\n    };\r\n\r\n    fetchData();\r\n\r\n  }, [selectedGenre, selectedCondition, selectedType]);\r\n\r\n  const isQuizResultsPage = location.pathname === '/quizresults';\r\n\r\n  if (!isQuizResultsPage) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>Our Recommendations for you</h3>\r\n      {books.length === 0 ? (\r\n        <p>No matching books found.</p>\r\n      ) : (\r\n        <div className=\"books-listed\">\r\n          {books.map((book, index) => (\r\n            <div key={index} className=\"item\">\r\n              <div className=\"card\">\r\n                <img src={book.Photo} alt={`Cover of ${book.BookTitle}`} />\r\n                <h3>{book.BookTitle}</h3>\r\n                <p>Author: {book.Author}</p>\r\n                <p>Condition: {book.Condition}</p>\r\n                <p>Cover Type: {book.CoverType}</p>\r\n                <p>Genre: {book.Genre}</p>\r\n                <p>Length: {book.Length}</p>\r\n                <p>Contact Owner: {book.Name}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QuizResults;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}